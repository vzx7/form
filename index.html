<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Форма регистрации</title>
    <script>
      const setError = (obj, issueArr) => {
        const defaultInput = "rgba(10, 180, 180, 1)";
        const alertRedInput = "#8C1010";
        if (issueArr.length > 0) {
          obj.setCustomValidity(issueArr);
          obj.style.borderColor = alertRedInput;
        } else {
          obj.setCustomValidity("");
          obj.style.borderColor = defaultInput;
        }
      };

      function userNameValidation(usernameInput) {
        const username = document.getElementById("username");
        const issueArr = [];
        if (/[-!@#$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/.test(usernameInput)) {
          issueArr.push("Имя не должно содержать спец символы!");
        }
        setError(username, issueArr);
      }

      function passwordValidation(passwordInput) {
        const password = document.getElementById("password");
        const issueArr = [];
        if (!/^.{7,15}$/.test(passwordInput)) {
          issueArr.push("Пароль должен содержать 7-15 символов.");
        }
        if (!/\d/.test(passwordInput)) {
          issueArr.push("Парль должен содержать хотя бы одну цифру.");
        }
        if (!/[a-z]/.test(passwordInput)) {
          issueArr.push(
            "Пароль должен содержать хотя бы одну букву в нижнем регистре."
          );
        }
        if (!/[A-Z]/.test(passwordInput)) {
          issueArr.push(
            "Пароль должен содержать хотя бы одну букву в верхнем регистре."
          );
        }
        setError(password, issueArr);
      }
    </script>
  </head>
  <body>
    <header><h1>Форма регистрации</h1></header>
    <article>
      <div id="_form">
        <div class="signupSection">
          <div class="info">
            <h2>Мы нуждаемся в Вас</h2>
            <i class="icon ion-ios-ionic-outline" aria-hidden="true"></i>
            <p><img src="./zdes.jpg" alt="banner" /></p>
          </div>
          <form action="#" method="POST" class="signupForm" name="signupform">
            <h2>Регистрация</h2>
            <ul class="noBullet">
              <li>
                <label for="username"></label>
                <input
                  type="text"
                  class="inputFields"
                  id="username"
                  name="username"
                  placeholder="Имя"
                  value=""
                  oninput="return userNameValidation(this.value)"
                  required
                />
              </li>
              <li>
                <label for="password"></label>
                <input
                  type="password"
                  class="inputFields"
                  id="password"
                  name="password"
                  placeholder="Пароль"
                  value=""
                  oninput="return passwordValidation(this.value)"
                  required
                />
              </li>
              <li>
                <label for="email"></label>
                <input
                  type="email"
                  class="inputFields"
                  id="email"
                  name="email"
                  placeholder="Email"
                  value=""
                  required
                />
              </li>
              <li id="center-btn">
                <input
                  type="submit"
                  id="join-btn"
                  name="join"
                  alt="Join"
                  value="Присоедениться"
                />
              </li>
            </ul>
          </form>
        </div>
      </div>
    </article>
    <footer></footer>
  </body>
</html>
